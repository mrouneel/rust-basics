<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> Introduction to Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_2.html"><strong aria-hidden="true">1.1.</strong> Installing Rust</a></li><li class="chapter-item expanded "><a href="chapter_3.html"><strong aria-hidden="true">1.2.</strong> Installing Libraries in Rust</a></li></ol></li><li class="chapter-item expanded "><a href="basics.html"><strong aria-hidden="true">2.</strong> Rust Basics</a></li><li class="chapter-item expanded "><a href="chapter_5.html"><strong aria-hidden="true">3.</strong> Databases in Rust</a></li><li class="chapter-item expanded "><a href="chapter_11.html"><strong aria-hidden="true">4.</strong> Q&A Webserver</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction-to-rust"><a class="header" href="#introduction-to-rust">Introduction to Rust</a></h1>
<p>Rust is a modern systems programming language focused on safety, speed, and concurrency. It was designed by Graydon Hoare at Mozilla Research, with contributions from others, and has gained a reputation for enabling developers to write safe and efficient code.</p>
<h2 id="why-rust"><a class="header" href="#why-rust">Why Rust?</a></h2>
<p>Rust is designed to solve problems that are common in systems programming, such as memory safety, concurrency, and performance. Some of the key features of Rust include:</p>
<ul>
<li><strong>Memory Safety</strong>: Rust ensures memory safety without using a garbage collector. This is achieved through a system of ownership with rules that the compiler checks at compile time.</li>
<li><strong>Concurrency</strong>: Rust's ownership model ensures that data races are avoided at compile time. This makes it easier to write concurrent programs.</li>
<li><strong>Performance</strong>: Rust is as fast as C and C++ in many cases due to its focus on zero-cost abstractions.</li>
</ul>
<h2 id="learning-rust"><a class="header" href="#learning-rust">Learning Rust</a></h2>
<p>Here are some excellent resources to get started with Rust:</p>
<h3 id="official-rust-book"><a class="header" href="#official-rust-book">Official Rust Book</a></h3>
<p>The <a href="https://doc.rust-lang.org/book/">Rust Programming Language Book</a> is the official Rust book, often referred to as "the book". It is comprehensive and covers everything from basic syntax and concepts to advanced topics.</p>
<h3 id="rust-by-example"><a class="header" href="#rust-by-example">Rust by Example</a></h3>
<p><a href="https://doc.rust-lang.org/rust-by-example/">Rust by Example</a> is a collection of runnable examples that illustrate various Rust concepts and standard libraries. It's a hands-on way to learn the language by seeing how various pieces of code work.</p>
<h3 id="rustlings"><a class="header" href="#rustlings">Rustlings</a></h3>
<p><a href="https://github.com/rust-lang/rustlings/">Rustlings</a> is a set of small exercises that help you get familiar with reading and writing Rust code. Each exercise is focused on a specific aspect of the language, making it a great way to practice and improve your Rust skills.</p>
<h3 id="official-rust-learn-page"><a class="header" href="#official-rust-learn-page">Official Rust Learn Page</a></h3>
<p>The <a href="https://www.rust-lang.org/learn">Official Rust Learn Page</a> provides a curated list of resources, including books, courses, and tools that can help you on your journey to mastering Rust.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing-rust"><a class="header" href="#installing-rust">Installing Rust</a></h1>
<p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety. Below are the instructions to download and install Rust on both Linux/Unix and Windows systems.</p>
<h2 id="installation-on-linuxunix"><a class="header" href="#installation-on-linuxunix">Installation on Linux/Unix</a></h2>
<h3 id="install-dependencies"><a class="header" href="#install-dependencies">Install Dependencies</a></h3>
<p>Before installing Rust, ensure you have the necessary dependencies.
In this guide I will show you the process of installing it in Debian-based Distros but it works similar in other Distributions.</p>
<p>For <strong>Debian-based distributions</strong> (like Ubuntu):</p>
<pre><code class="language-bash">sudo apt update
sudo apt install build-essential curl
</code></pre>
<h3 id="install-rust-rustup-and-cargo"><a class="header" href="#install-rust-rustup-and-cargo">Install Rust, rustup and Cargo</a></h3>
<p>The official Rust Website recommends downloading Rust with rustup which is a tool for managing Rust versions. To install Rust with rustup, run the following command in your terminal:</p>
<pre><code class="language-bash">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre>
<p>This command will not only download Rust and rustup, but also Cargo which is Rust's package manager.</p>
<h3 id="verify-the-installation"><a class="header" href="#verify-the-installation">Verify the Installation</a></h3>
<p>To verify that Rust is installed correctly, run:</p>
<pre><code class="language-bash">rustc --version
</code></pre>
<h2 id="installation-on-windows"><a class="header" href="#installation-on-windows">Installation on Windows</a></h2>
<h3 id="install-the-rustup-installer"><a class="header" href="#install-the-rustup-installer">Install the Rustup installer</a></h3>
<p>I recommend downloading Rust on Windows from rustup.rs which provides an executable for Windows devices. <a href="https://rustup.rs/#">Rustup</a></p>
<h3 id="update-and-uninstall-rust"><a class="header" href="#update-and-uninstall-rust">Update and Uninstall Rust</a></h3>
<p>Rust is constantly being improved. To update to the latest version of Rust, use rustup:</p>
<pre><code class="language-bash">rustup update
</code></pre>
<p>If you need to uninstall Rust for any reason, use rustup on the Unix Terminal or Windows Powershell/CMD:</p>
<pre><code class="language-bash">rustup self uninstall
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-download-rust-libraries-with-cargo"><a class="header" href="#how-to-download-rust-libraries-with-cargo">How to Download Rust Libraries with Cargo</a></h1>
<p>Cargo is the Rust package manager, and it is used to manage Rust projects and their dependencies. This guide will walk you through the steps to download and use Rust libraries (also known as crates) with Cargo.</p>
<p>After installing, make sure Cargo is available by running:</p>
<pre><code class="language-bash">cargo --version
</code></pre>
<h3 id="create-a-new-rust-project"><a class="header" href="#create-a-new-rust-project">Create a new Rust Project</a></h3>
<p>To create a new Rust Project , use the following command.</p>
<pre><code class="language-bash">cargo new my_project
cd my_project
</code></pre>
<p>This creates a new directory named my_project with a simple Rust project template.</p>
<h3 id="add-depenendencies"><a class="header" href="#add-depenendencies">Add Depenendencies</a></h3>
<p>Open the Cargo.toml file in your project directory. This file manages the dependencies for your project. To add a dependency, specify the crate name and version under the [dependencies] section.
For example, to add the rand crate (a popular library used to generate random numbers), add the following lines:</p>
<pre><code class="language-toml">[dependencies]
rand = "1.0"
</code></pre>
<h3 id="update-and-build-your-project"><a class="header" href="#update-and-build-your-project">Update and Build Your Project</a></h3>
<p>After adding dependencies to Cargo.toml, run the following command to download and compile them:</p>
<pre><code class="language-bash">cargo build
</code></pre>
<p>Cargo will fetch the specified crates from the crates.io registry and compile them along with your project.</p>
<h3 id="use-the-library-in-your-code"><a class="header" href="#use-the-library-in-your-code">Use the Library in your Code</a></h3>
<p>Once the library is downloaded and compiled, you can use it in your Rust code. Open src/main.rs and include the crate at the top of the file:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use rand;
<span class="boring">}</span></code></pre></pre>
<h3 id="run-your-project"><a class="header" href="#run-your-project">Run your Project</a></h3>
<p>To run your project, use the following command:</p>
<pre><code class="language-bash">cargo run
</code></pre>
<p>Cargo will build and execute your project, including any code that utilizes the libraries you added.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basics"><a class="header" href="#basics">Basics</a></h1>
<p>Rust Syntax</p>
<h3 id="1-variables-and-data-types"><a class="header" href="#1-variables-and-data-types">1. Variables and Data Types</a></h3>
<h5 id="scalar-types"><a class="header" href="#scalar-types">Scalar Types</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let int_number: i32 = -42;          // signed integers: i8, i16, i32, i64, i128, isize
                                    // represent positive and negative numbers
                                    
let uint_number: u64 = 100_000;     // unsigned integers: u8, u16, u32, u64, u128, usize
                                    // represent only positive numbers

let float_number: f64 = 3.14;    // floating-point numbers: f32, f64
let is_rust_cool: bool = true;
let emoji: char = '😊'; 
<span class="boring">}</span></code></pre></pre>
<h5 id="compound-types"><a class="header" href="#compound-types">Compound Types</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let tup: (i32, f64, u8) = (500, 6.4, 1); // tuple
let arr: [i32; 5] = [4, 5, 1, 2, 1]; // type: i32, length = 5
<span class="boring">}</span></code></pre></pre>
<h5 id="standard-library-types"><a class="header" href="#standard-library-types">Standard Library Types</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let borrowed_string = "Hello World"; // &amp;str, a string slice

let mut owned_string = String::new(); // String
owned_string.push_str("Hello World");

let mut owned_string2 = String::from("Hello ");
owned_string2.push_str("World")

// difference: explained later with ownership

let values = vec![1, 2, 3]; // Vector (list)
let mut values2: Vec&lt;i32&gt; = Vec::new();

let mut numbers = vec![1, 2, 3];
<span class="boring">}</span></code></pre></pre>
<h5 id="user-defined-types"><a class="header" href="#user-defined-types">User-Defined Types</a></h5>
<pre><pre class="playground"><code class="language-rust">struct Person {
    name: String,
    age: u32,
}

fn main() {
    let person1 = Person {             // create an instance of the 'Person' struct and initialize all fields
        name: String::from("Alice"),
        age: 30,
    };
    println!("{} is {} old.", person1.name, person1.age);
}

enum Direction {
    Up,
    Down,
    Left,
    Right,
}</code></pre></pre>
<h3 id="2-conditional-statements"><a class="header" href="#2-conditional-statements">2. Conditional Statements</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let number = 0;

if number &gt; 0 &amp;&amp; number % 2 == 0 {
    println!("The number is positive and even.");
} else if number &lt; 0 || number % 2 != 0 {
    println!("The number is negative or odd.");
} else {
    println!("The number is zero.");
}

match number {              // with match you have to handle all cases 
    1 =&gt; println!("One!"),
    2 | 3 | 5 | 7 =&gt; println!("This is a prime number."),
    4 | 6 | 8 | 9 | 10 =&gt; println!("This is a composite number."),
    _ =&gt; println!("The number is not between 1 and 10."),
}
<span class="boring">}</span></code></pre></pre>
<h3 id="3-loops"><a class="header" href="#3-loops">3. Loops</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for i in 1..6 {
    println!("Number: {}", i);
}

let mut x = 1;
while x &lt;= 5 {
    println!("Number: {}", x);
    x += 1;
}

let mut count = 0;
loop {
    println!("Hello, world!");

    count += 1;
    if count &gt;= 5 {
        break; // Exit the loop when count reaches 5
    }
}
<span class="boring">}</span></code></pre></pre>
<h3 id="4-functions"><a class="header" href="#4-functions">4. Functions</a></h3>
<pre><pre class="playground"><code class="language-rust">fn add(a: i32, b: i32) -&gt; i32 {     // returns an i32 integer
    a + b                           // don't need return keyword, automatically returned
}

fn main() {
    let result = add(5, 3);
    println!("The sum is: {}", result);
}</code></pre></pre>
<h3 id="5-exception-handling"><a class="header" href="#5-exception-handling">5. Exception Handling</a></h3>
<pre><pre class="playground"><code class="language-rust">// with type Result
use std::fs::File;

fn main() {
    let greeting_file_result = File::open("hello.txt");

    let greeting_file = match greeting_file_result {
        Ok(file) =&gt; file,
        Err(error) =&gt; panic!("Problem opening the file: {:?}", error),
    };
}

// macros: a way of defining reusable chunks of code; they generate code
// panic! macro
fn main() {
    if 1 + 1 != 2 {
        panic!("Math is broken!");
    }
}</code></pre></pre>
<h3 id="6-ownership"><a class="header" href="#6-ownership">6. Ownership</a></h3>
<p>Set of rules that govern how a Rust program manages memory.</p>
<ul>
<li>Each value in Rust has an owner.</li>
<li>There can only be one owner at a time.</li>
<li>When the owner goes out of scope, the value will be dropped.</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>{                                                    // s is not valid here, it’s not yet declared
    let s = "hello";                                // s is valid from this point forward
    let mut owned_string = String::from("Hi");
}                      // this scope is now over, and s is no longer valid, rust calls `drop`


let s1 = String::from("Hello");
let s2 = s1;                        // s2 is now the owner
s1.push_str("Wont work");          // WRONG, won't work, because s1 has been "moved" to s2 -&gt; deals with memory

<span class="boring">}</span></code></pre></pre>
<div style="text-align:center;">
    <img src="https://doc.rust-lang.org/book/img/trpl04-04.svg" alt="My Image" width="400">
</div>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s1 = String::from("hello");

    let len = calculate_length(&amp;s1);                 // provides a reference to s1, reference borrowing

    println!("The length of '{}' is {}.", s1, len);
}

fn calculate_length(s: &amp;String) -&gt; usize {
    s.len()
}</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">// if wanting to modify the borrowed value
fn main() {
    let mut s = String::from("hello");

    change(&amp;mut s);   // mutable
}

fn change(some_string: &amp;mut String) {
    some_string.push_str(", world");
}</code></pre></pre>
<div style="text-align:center;">
    <img src="https://doc.rust-lang.org/book/img/trpl04-05.svg" alt="My Image" height="250">
</div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// reference borrowing: you can have either one mutable reference (to ensure thread safety) or any number of immutable references
//                      the reference must be valid meaning the borrowed variable has to exist

let mut s = String::from("hello");      
let r1 = &amp;mut s;
let r2 = &amp;mut s;                    // error

// This above won't work

// This will work
let mut s = String::from("hello");

{
    let r1 = &amp;mut s;
} // r1 goes out of scope here, so we can make a new reference with no problems.

let r2 = &amp;mut s;


// This won't work

let mut s = String::from("hello");

let r1 = &amp;s; // no problem
let r2 = &amp;s; // no problem
let r3 = &amp;mut s; // BIG PROBLEM
println!("{}, {}, and {}", r1, r2, r3);
// error -&gt; because r3 wants to change data which r1 and r2 are reading 

// This will work
let mut s = String::from("hello");

let r1 = &amp;s; // no problem
let r2 = &amp;s; // no problem
println!("{} and {}", r1, r2);
// variables r1 and r2 will not be used after this point

let r3 = &amp;mut s; // no problem
println!("{}", r3);
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-to-rust-and-database-integration"><a class="header" href="#introduction-to-rust-and-database-integration">Introduction to Rust and Database Integration</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>This page introduces the fundamental concepts of integrating Rust with databases. Learn about the importance of using Rust for database management and how it can enhance data manipulation and analysis.</p>
<h2 id="why-use-rust-with-databases"><a class="header" href="#why-use-rust-with-databases">Why Use Rust with Databases?</a></h2>
<p>Rust is an excellent choice for database management due to its unique strengths:</p>
<ul>
<li><strong>Performance</strong>: Rust offers high performance similar to C and C++, making it ideal for handling large datasets and high-transaction environments.</li>
<li><strong>Memory Safety</strong>: Rust's ownership system ensures memory safety without a garbage collector, reducing risks like memory leaks.</li>
<li><strong>Concurrency</strong>: Rust prevents data races at compile time, enabling safe and efficient concurrent database operations.</li>
<li><strong>Type Safety</strong>: Rust's strong type system catches many errors at compile time, reducing runtime issues and enhancing SQL query safety.</li>
<li><strong>Robust Libraries</strong>: Libraries like <code>diesel</code>, <code>sqlx</code>, and <code>rusqlite</code> provide powerful, type-safe, and ergonomic APIs for interacting with various databases.</li>
</ul>
<p>By using Rust, you can build fast, safe, and reliable database applications.</p>
<h2 id="setting-up-your-environment"><a class="header" href="#setting-up-your-environment">Setting Up Your Environment</a></h2>
<h3 id="database-setup"><a class="header" href="#database-setup">Database Setup</a></h3>
<p>Choose a database. For beginners, SQLite is recommended due to its simplicity and ease of setup.</p>
<h3 id="library-installation"><a class="header" href="#library-installation">Library Installation</a></h3>
<p>Install necessary Rust libraries by adding them to your <code>Cargo.toml</code> file. Here’s an example for SQLite using <code>rusqlite</code>:</p>
<pre><code class="language-toml">[dependencies]
rusqlite = "0.26"
</code></pre>
<p>For PostgreSQL using <code>diesel</code>:</p>
<pre><code class="language-toml">[dependencies]
diesel = { version = "2.0", features = ["postgres"] }
</code></pre>
<p>For MySQL using <code>sqlx</code>:</p>
<pre><code class="language-toml">[dependencies]
sqlx = { version = "0.6", features = ["mysql", "runtime-async-std-native-tls"] }
</code></pre>
<h3 id="code-example-connecting-to-a-database"><a class="header" href="#code-example-connecting-to-a-database">Code Example: Connecting to a Database</a></h3>
<h4 id="using-rusqlite-with-sqlite"><a class="header" href="#using-rusqlite-with-sqlite">Using rusqlite with SQLite</a></h4>
<pre><pre class="playground"><code class="language-rust">extern crate rusqlite;
use rusqlite::{params, Connection, Result};

fn main() -&gt; Result&lt;()&gt; {
    let conn = Connection::open("my_database.db")?;
    
    // Create the person table if it doesn't exist
    conn.execute(
        "CREATE TABLE IF NOT EXISTS person (
                  id              INTEGER PRIMARY KEY,
                  name            TEXT NOT NULL,
                  data            BLOB
                  )",
        [],
    )?;

    // Add a person to the table
    add_person(&amp;conn, "John Doe", b"Some binary data")?;

    Ok(())
}

fn add_person(conn: &amp;Connection, name: &amp;str, data: &amp;[u8]) -&gt; Result&lt;()&gt; {
    conn.execute(
        "INSERT INTO person (name, data) VALUES (?1, ?2)",
        params![name, data],
    )?;
    Ok(())
}
</code></pre></pre>
<h4 id="using-diesel-with-postgresql"><a class="header" href="#using-diesel-with-postgresql">Using diesel with PostgreSQL</a></h4>
<pre><pre class="playground"><code class="language-rust">#[macro_use]
extern crate diesel;
extern crate dotenv;

use diesel::prelude::*;
use dotenv::dotenv;
use std::env;

fn main() {
    dotenv().ok();

    let database_url = env::var("DATABASE_URL").expect("DATABASE_URL must be set");
    let connection = PgConnection::establish(&amp;database_url)
        .expect(&amp;format!("Error connecting to {}", database_url));
}</code></pre></pre>
<h4 id="using-sqlx-with-mysql"><a class="header" href="#using-sqlx-with-mysql">Using sqlx with MySQL</a></h4>
<pre><pre class="playground"><code class="language-rust">use sqlx::mysql::MySqlPoolOptions;

#[async_std::main]
async fn main() -&gt; Result&lt;(), sqlx::Error&gt; {
    let pool = MySqlPoolOptions::new()
        .max_connections(5)
        .connect("mysql://user:password@localhost/database_name").await?;

    let row: (i64,) = sqlx::query_as("SELECT COUNT(*) FROM users")
        .fetch_one(&amp;pool).await?;

    println!("Number of users: {}", row.0);

    Ok(())
}</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-for-a-webserver-in-rust-to-connect-it-to-a-database-i"><a class="header" href="#code-for-a-webserver-in-rust-to-connect-it-to-a-database-i">Code for a webserver in Rust to connect it to a database i</a></h1>
<pre><code class="language-Rust">use std::net::SocketAddr;
use std::sync::OnceLock;

use axum::extract::Path;
use axum::response::IntoResponse;
use axum::Router;
use axum::routing::get;
use sqlx::{Executor, query, SqlitePool};
use sqlx::sqlite::SqlitePoolOptions;
use tokio::net::TcpListener;

static DB_POOL: OnceLock&lt;SqlitePool&gt; = OnceLock::new();

async fn get_pool() -&gt; &amp;'static SqlitePool {
    if let Some(x) = DB_POOL.get() {
        return x;
    }

    let pool = SqlitePoolOptions::new()
        .max_connections(100)
        .connect("sqlite:mydb.sqlite")
        .await
        .expect("Failed to connect to the database!");
    DB_POOL.get_or_init(move || pool)
}


async fn fruit(Path(fruit_name): Path&lt;String&gt;) -&gt; impl IntoResponse {
    let connection = get_pool().await;
    let found = sqlx::query!("select name, price from fruits where name = ?", fruit_name)
        .fetch_optional(connection).await;

    match found {
        Ok(record) =&gt; {
            match record {
                None =&gt; {
                    format!("No fruit exists by the name '{fruit_name}'")
                }
                Some(record) =&gt; {
                    format!("The fruit '{fruit_name}' currently has a price of {}", record.price)
                }
            }
        }
        Err(e) =&gt; {
            format!("Failed to get price: {e}")
        }
    }
}


async fn create_fruit(Path((fruit_name, price)): Path&lt;(String, u32)&gt;) -&gt; impl IntoResponse {
    let connection = get_pool().await;
    let result = query!("INSERT INTO fruits (name, price) VALUES (?, ?)", fruit_name, price)
        .execute(connection).await;


    match result {
        Ok(result) =&gt; {
            format!("Inserted fruit. {} row(s) affected", result.rows_affected())

        }
        Err(e) =&gt; {
            format!("Failed to insert fruit: {e}")
        }
    }
}


async fn list_fruits() -&gt; impl IntoResponse {
    let connection = get_pool().await;
    let result = query!("SELECT name, price from fruits")
        .fetch_all(connection).await;


    match result {
        Ok(all_fruits) =&gt; {
            format!("Current Fruit: {:#?}", all_fruits)
        }
        Err(e) =&gt; {
            format!("Failed to insert fruit: {e}")
        }
    }
}

#[tokio::main]
async fn main() {
    let pool = get_pool().await;

    pool.execute("CREATE TABLE IF NOT EXISTS fruits(name VARCHAR(256) NOT NULL PRIMARY KEY, price BIGINT UNSIGNED NOT NULL)").await.unwrap();


    let app = Router::new()
        .route("/fruit/:fruit_name", get(fruit))
        .route("/create_fruit/:fruit_name/:price", get(create_fruit))
        .route("/fruits", get(list_fruits));

    let addr = SocketAddr::from(([127, 0, 0, 69], 3000));

    let listener = TcpListener::bind(addr)
        .await
        .expect("Failed to start tcp server!");

    axum::serve(listener, app).await.unwrap();
    

}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
